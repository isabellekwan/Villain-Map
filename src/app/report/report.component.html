<body>
    <a class = 'btn btn-primary' routerLink="/home">Back</a>
    <div class = "body">
    <form
        [formGroup]="form"
        (ngSubmit)="onSubmit(form.value)"
    >
        <fieldset
            class="d-grid gap-2 col-12"
        >
            <legend>Report a Nuisance!</legend>
            <label for="name">Reporter's Name:</label>
            <input 
                type="text"
                name="name"
                placeholder="Enter your name"
                formControlName="reportname"
            >
            <label for="phone">Reporter's Phone Number:</label>
            <input 
                type="tel"
                name="phone"
                id="phone"
                placeholder="Eg. 111-222-3333"
                pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" 
                formControlName="reportnumber"
            >
            <label for="name">Villain's Name:</label>
            <input 
                type="text"
                name="name"
                placeholder="Enter the villain's name"
                formControlName="name"
            >
            <label for="imageUrl">Image URL (Optional):</label>
            <input 
            type="text"
            name="imageUrl"
            id="imageUrl"
            placeholder="Enter image URL (optional)"
            formControlName="imageUrl"
            >
            <label for="locationSelect">Select or Add Location:</label>
            <select 
            name="locationSelect"
            id="locationSelect"
            (change)="onLocationSelected($event)"
            >
            <option value="" disabled selected>Select a location or add a new one</option>
            
            <option *ngFor="let location of previousLocations" [value]="location.name">
                {{ location.name }}
            </option>
            
            <option value="new">Add New Location</option>
            </select>

            <div *ngIf="isNewLocationSelected">
            
            <label for="newLocationName">New Location Name: </label>
            <input 
                type="text"
                name="newLocationName"
                id="newLocationName"
                placeholder="Enter new location name"
            ><br>

            <label for="newLatitude">New Latitude: </label>
            <input 
                type="number"
                name="newLatitude"
                id="newLatitude"
                placeholder="Enter new latitude"
            ><br>

            <label for="newLongitude">New Longitude: </label>
            <input 
                type="number"
                name="newLongitude"
                id="newLongitude"
                placeholder="Enter new longitude"
            >
            </div>
            <label for="extraDetails">Extra Details:</label>
            <textarea 
            name="extraDetails"
            id="extraDetails"
            rows="4"
            placeholder="Enter extra details"
            formControlName="extraDetails"
            ></textarea>
            <button 
                class="btn btn-outline-primary"
                [disabled]="!form.valid"
            >
                SAVE
            </button>
        </fieldset>
        <br><br>
    </form>
</div>
</body>